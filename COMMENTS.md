# _ğŸ’» Thinking Process Technical Challenge ğŸ’»_

This is a markdown file you can see the content on this webpage: https://markdownlivepreview.com

## ğŸ’¾ Models and ORM ğŸ’¾

First what I did is look into **api.spec.yaml** to see what is the structure of the API.
And my first step is create the models, creating the diagram to see better the structure.

I saw that don't have any sense for me create a Model for the ImageGridResponse, the response will be generated by the
api, don't need to be into the ORM.

And I'm also creating a new Object for the Events stored on the ImageInfo Object.

Some variables were renamed for follow python language standards.

Field grid into the ImageInfo is not specification in the documentation, so I will imagine this is not important for
the moment, I will declare it on the model, but it doesn't have use on this app.

After create all the models, It's needed to create migrations package to create the tables into the database.

I decide order the ImageInfo directly on the model first by weight and then by date, I did this because
if we want to implement this algorithm for sort the images we will use it always, even if we want to filter by name we
want to have it also sorted by weight and date.

I create a class method in TrackEventBody class that returns a list with all the elements of the enumeration.
This is really usefully to check if the event type exists.

##### **Read, understand the project, create models and migrations 50 mins.**
`Next image is only orientative, make it quick to understand the structure required.`
![diagram](https://i.imgur.com/Dwa0ibm.png)

## âœ¨ Serializers âœ¨

Next step is create the serializers that we are going to use with the models.

I will create a new package called serializers, in this app it's not necessary, but the idea of this api is to be
scalable, so I decided to create serializers package it is cleaner for me if we need to add more serializers for our
API.

##### **Create serializers 10 mins.**

## ğŸ“ Architecture ğŸ“

I decide follow hexagonal architecture, so I create a new package for the domain, this contains the models and the
serializers. Unfortunately on django is not possible remove models file from the django app.

I put all the models on this domain package.
The bad point about this is everytime you create a new file you need to import it into models.py.

In models.py there are the imports for the models.

##### **Refactor hexagonal architecture 20 mins.**

## ğŸªŸ Views and Services ğŸªŸ

Next step create all the rest endpoints, paths and services.
I didn't remove any of the example code.
At this point I create the urls needed on the endpoints, also two APiView methods one for the Get method and one for the
Post method. 

The only one proposal of these methods are being the entry point of our application and return the final
result.

All the logic is in the services that we are calling from these views.

I create two different services, one for method, and in every of them I put when you initialize the service a dictionary
with the possible errors that you could get.
If the application become bigger there are other ways more efficient to handle this errors making it more scalable,
but for now I decided to keep it simple and the code as clean as possible.

It is not good for no one see 3 million lines of Response() with the same error.

##### **Create endpoints routes, services and views 60 mins.**

## ğŸ§ª Testing ğŸ§ª

Following the instructions I was not following the 100% test coverage, I tried to cover every functionality I added for
this challenge.

I add tests for the views mainly checking if I can access through the endpoints and if the response was the correct one,
including the possible bad responses.

In the services I test if the grid was being well displayed, sorted correctly first by weight and then by date, and also
if the events was working well assigning correctly the weight on the images.

##### **Testing the views and the services 30 mins.**

## ğŸ˜ Review code and solve errors ğŸ˜

Review all the code, trying to find a better way to solve the errors, avoiding nested ifs, code smell, etc.

##### **Testing the views and the services 20 mins.**

## â¤ï¸ Final conclusion â¤ï¸

I enjoy so much doing this challenge, I try to do my best.
I take me more time that expected and this is because I was doing this during the day when I was having some free time.

It's a good challenge, and I'm proud of my work, knowing this is not perfect but in my opinion is a good way to keep
learning.

Thank you for this experience and hope have news from you soon.

Have a nice day!

### **Time average: 190 mins.**